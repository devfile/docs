[id="proc_migrating-plug-ins_{context}"]
= Migrating plug-ins

[role="_abstract"]
<<<<<<< HEAD
This section describes how to migrate plug-ins to devfiles v2.x. A plug-in specified in a meta.yaml in a devfile v1.x no longer works in a devfile v2.x.
=======
This section describes how to migrate plug-ins to devfiles v2.x. Major changes have been made from devfile v1.x to the plug-ins section of devfile v2.x. A plug-in specified in a meta.yaml in a devfile v1.x no longer works in a devfile v2.x.
>>>>>>> 6471455677b28b0e892adc4c24e14acfc17678a4

.Procedure

. Specify a plug-in using a devfile.

+
[source,yaml]
----
v2.0
---
java8.yaml
---
schemaVersion: 2.0.0
metadata:
  publisher: redhat
  name: java8
  version: 0.57.0
  displayName: Language Support for Java 8
  title: Language Support for Java(TM) by ...
  description: Java Linting, Intellisense ...
  icon: https://.../logo-eclipseche.svg
  repository: https://github.../vscode-java
  category: Language
  firstPublicationDate: "2020-02-20"
  plug-inType: che-theia-vsx # <== mandatory
                            # for plug-ins
                      # Valid types:
                      #   che-theia-vsx
                      #   che-editor,
                      #   che-theia-plug-in,
                      #   che-theia-ext,
                      #   generic-service,
                      #   generic-ui
parent:
  id: redhat/theia-vsx-template/latest
  components:
    - container:
       name: vsx-installer
       env:
        - name: VSX_LIST
          value: java-dbg.vsix,java.vsix
components:
 - kubernetes:
    name: ...
    reference: ...
 - container:
    image: ...che-sidecar-java
    name: vscode-java
    memoryLimit: "1500Mi"
    volumeMounts:
     - path: "/home/theia/.m2"
       name: m2
 - volume:
    name: m2
----
+
. Reference a plug-in from a distinct devfile.
+
[source,yaml]
----
v2.0
---
devfile.yaml
---
components:
- plug-in:
    name: java language server
    id: redhat/java11/0.57.0 # other then by `id`, a plug-in
                             # can be referenced by `uri` and
                             # `kubernetes`
----
+

[role="_additional-resources"]
.Additional resources

<<<<<<< HEAD
For a deeper understanding of migrating plug-ins, go to the following GitHub issue: link:https://github.com/devfile/api/issues/31[plug-in mechanism].
=======
Go to the following GitHub issue: link:https://github.com/devfile/api/issues/31[plug-in mechanism]
>>>>>>> 6471455677b28b0e892adc4c24e14acfc17678a4
