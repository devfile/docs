<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploying a devfile registry :: Devfile documentation</title>
    <link rel="canonical" href="https://devfile.io/docs/devfile/2.1.0/user-guide/deploying-a-devfile-registry/">
    <meta name="description" content="Deploying a devfile registry">
    <meta name="keywords" content="devfile, deploy">
    <meta name="generator" content="Antora 3.0.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="../../../../_/css/extra.css">
<link rel="stylesheet" href="../../../../_/font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
<meta name="robots" content="noindex">
<script>var uiRootPath = '../../../../_'</script>
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <button class="navbar-burger" data-target="topbar-nav">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <img src="../../../../_/img/project-logo.svg" class="navbar-logo" alt="Project logo">
        <a href="https://devfile.io">Devfile.io</a>
      </div>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item hide-for-print">
          <div id="search-field" class="field">
            <input id="search-input" type="text" placeholder="Search the docs" autofocus>
          </div>
        </div>
        <a class="navbar-item" href="https://devfile.io/getting-started">Getting Started</a>
        <a class="navbar-item" href="https://devfile.io/docs/index.html">Docs</a>
        <a class="navbar-item" href="https://registry.devfile.io/viewer">Devfile Registry</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devfile" data-version="2.2.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../">Devfile User Guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring-devfiles/">Authoring devfiles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../adding-schema-version-to-a-devfile/">Adding schema version</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../adding-a-name-to-a-devfile/">Adding a name</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../adding-projects-to-a-devfile/">Adding projects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../adding-commands-to-a-devfile/">Adding commands</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../devfile-commands/">Devfile commands</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-a-command-section-to-a-devfile/">Adding a command section to a devfile</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-a-command-group-to-a-devfile/">Adding a command group to a devfile</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-exec-commands-to-a-devfile/">Adding exec commands to a devfile</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-apply-commands-to-a-devfile/">Adding apply commands to a devfile</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-composite-commands-to-a-devfile/">Adding composite commands to a devfile</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../adding-components-to-a-devfile/">Adding components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-a-kubernetes-or-openshift-component-to-a-devfile/">Adding a Kubernetes or OpenShift component</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-a-container-component-to-a-devfile/">Adding a container component</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-a-image-component-to-a-devfile/">Adding an image component</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../adding-a-volume-component-to-a-devfile/">Adding a volume component</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specifying-persistent-storage/">Specifying persistent storage</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../limiting-resources-usage/">Limiting resources usage</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../defining-environment-variables/">Defining environment variables</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../defining-endpoints/">Defining endpoints</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../defining-kubernetes-resources/">Defining Kubernetes resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../defining-variables/">Defining variables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../defining-attributes/">Defining attributes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../adding-event-bindings/">Adding event bindings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../referring-to-a-parent-devfile-in-a-devfile/">Referring to a parent</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../migrating-to-devfile-v2/">Migrating to devfile v2</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../migrating-schema-version/">Migrating schema version</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../migrating-projects/">Migrating projects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../migrating-components/">Migrating components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../migrating-plug-ins/">Migrating plug-ins</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../migrating-commands/">Migrating commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../adding-event-bindings/">Adding event bindings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../referring-to-a-parent-devfile-in-a-devfile/">Referring to a parent</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../troubleshooting/">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../devfile-library/">Devfile library</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../using-the-devfile-library/">Using the devfile library</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Registry Administrator</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../devfile-registry/">Devfile registry</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../understanding-a-devfile-registry/">Understanding a devfile registry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../building-a-custom-devfile-registry/">Building a custom devfile registry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-of-incluster-offline-devfile-registry/">Offline Devfile Registry</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="./">Deploying a devfile registry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../adding-a-registry-schema/">Adding a registry schema</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../creating-a-devfile-stack/">Creating a Devfile stack</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../adding-a-stack-yaml-file/">Adding a stack.yaml file</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../api-reference/">API reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devfile-resources/">Devfile resources</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Devfile User Guide</span>
    <span class="version">2.2.0-alpha</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../../2.1.0/user-guide/">Devfile User Guide</a>
      <ul class="versions">
        <li class="version is-current">
          <a href="../">2.2.0-alpha</a>
        </li>
        <li class="version is-latest">
          <a href="../../../2.1.0/user-guide/">2.1.0</a>
        </li>
        <li class="version">
          <a href="../../../2.0.0/user-guide/">2.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../2.1.0/user-guide/" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../">Devfile User Guide</a></li>
    <li>Registry Administrator</li>
    <li><a href="../devfile-registry/">Devfile registry</a></li>
    <li><a href="./">Deploying a devfile registry</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2.2.0-alpha</button>
  <div class="version-menu">
    <a class="version is-current" href="./">2.2.0-alpha</a>
    <a class="version" href="../../../2.1.0/user-guide/deploying-a-devfile-registry/">2.1.0</a>
    <a class="version is-missing" href="../../../2.0.0/user-guide/">2.0.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/devfile/docs/edit/main/docs/modules/user-guide/pages/deploying-a-devfile-registry.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Deploying a devfile registry</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Deploy a devfile registry to allow access to the devfile stacks that provide templates for containerized development.</p>
</div>
<div class="paragraph">
<p>To use the devfile Operator to deploy a devfile registry, use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operator Lifecycle Manager (OLM)</p>
</li>
<li>
<p>Devfile registry Helm chart</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A built devfile registry container image. To build your own devfile registry, see <a href="../building-a-custom-devfile-registry/" class="xref page">Building a custom devfile registry</a>.</p>
</li>
<li>
<p>If you do not have publicly signed certificates for your cluster, disable TLS for the devfile registry so that you can use the devfile registry with <code>odo</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-a-devfile-registry-with-operator-lifecycle-manager_devfile"><a class="anchor" href="#deploying-a-devfile-registry-with-operator-lifecycle-manager_devfile"></a>Deploying a devfile registry with Operator Lifecycle Manager</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>When you have Operator Lifecycle Manager (OLM) installed on your cluster, use the devfile registry Operator to install and deploy a devfile registry.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Install the devfile registry Operator:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Install <a href="https://github.com/operator-framework/operator-lifecycle-manager">OLM</a>.</p>
</li>
<li>
<p>Download and install the <a href="https://mirror.openshift.com/pub/openshift-v4/clients/operator-sdk/latest/">operator-sdk CLI</a>.</p>
</li>
<li>
<p>Run the <code>operator-sdk</code> command to install the devfile registry Operator:</p>
<div class="listingblock">
<div class="content">
<pre>$ operator-sdk run bundle quay.io/devfile/registry-operator-bundle:next</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Deploy the devfile registry:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On an OpenShift cluster, run:</p>
<div class="listingblock">
<div class="content">
<pre>$ cat &lt;&lt;EOF | oc apply -f -
apiVersion: registry.devfile.io/v1alpha1
kind: DevfileRegistry
metadata:
  name: devfile-registry
spec:
  devfileIndexImage: quay.io/devfile/devfile-index:next
EOF</pre>
</div>
</div>
</li>
<li>
<p>On a Kubernetes cluster, run:</p>
<div class="listingblock">
<div class="content">
<pre>$ cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: registry.devfile.io/v1alpha1
kind: DevfileRegistry
metadata:
  name: devfile-registry
spec:
  devfileIndexImage: quay.io/devfile/devfile-index:next
 	tls:
    enabled: false
  k8s:
    ingressDomain: $INGRESS_DOMAIN
EOF</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Regardless of the cluster, if you are deploying your own devfile registry, change the <code>devfileIndexImage</code> field to the container image that you built.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For information on installing the devfile registry Operator, see <a href="https://github.com/devfile/registry-operator">devfile registry Operator</a>.</p>
</li>
<li>
<p>For information on installing OLM on your Kubernetes cluster, see the <a href="https://olm.operatorframework.io/docs/getting-started/">OLM quick start guide</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-a-devfile-registry-with-helm-chart_devfile"><a class="anchor" href="#deploying-a-devfile-registry-with-helm-chart_devfile"></a>Deploying a devfile registry with Helm chart</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>If the Operator Lifecycle Manager (OLM) is not installed on your Kubernetes cluster, use the devfile registry Helm chart in order to use the devfile registry Operator to deploy the devfile registry.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Clone the repository containing the Helm chart:</p>
<div class="listingblock">
<div class="content">
<pre>$ git clone https://github.com/devfile/registry-support</pre>
</div>
</div>
</li>
<li>
<p>Navigate to the <code>deploy/chart/devfile-registry</code> directory.</p>
</li>
<li>
<p>Open the <code>values.yaml</code> file in an editor and make the following changes:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set <code>devfileIndex.image</code> to the image containing your devfile stacks.</p>
</li>
<li>
<p>Set <code>devfileIndex.tag</code> to the image tag for your devfile index image.</p>
</li>
<li>
<p>If installing on Kubernetes, set <code>global.Ingress.domain</code> to the Ingress domain of your cluster.</p>
</li>
<li>
<p>If installing on OpenShift, set <code>global.isOpenShift</code> to <code>true</code>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Run <code>helm install devfile-registry ./</code> to install the Helm chart.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For information on the devfile registry Helm chart, see the <a href="https://github.com/devfile/registry-support/blob/master/deploy/chart/devfile-registry/README.md">registry Helm chart Git repository readme</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer  class="footer">
<p><a href="https://devfile.io/docs/sitemap.xml">Site map</a>
</p>
</footer><script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
  </body>
</html>
